"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Properties_1 = require("../utils/Properties");
function EnvValue(expression, defaultValue) {
    return (target, propertyKey) => {
        if (delete target[propertyKey]) {
            let value = process.env[expression.replace(/\./gi, "__")];
            Object.defineProperty(target, propertyKey, {
                get: function () {
                    value = value === undefined ? Properties_1.Properties.get(expression) || defaultValue : value;
                    return value;
                },
                set: function (v) {
                    value = v;
                },
                enumerable: true,
                configurable: true
            });
        }
    };
}
exports.EnvValue = EnvValue;
//# sourceMappingURL=envValue.js.map